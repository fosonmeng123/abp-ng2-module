!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("rxjs"),require("@angular/common/http")):"function"==typeof define&&define.amd?define(["exports","@angular/core","rxjs","@angular/common/http"],t):t(((e=e||self).ng=e.ng||{},e.ng.abpModule={}),e.ng.core,e.rxjs,e.http)}(this,function(e,t,u,p){"use strict";var r=function(e,t,r,o){var n,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,o);else for(var c=e.length-1;0<=c;c--)(n=e[c])&&(i=(a<3?n(i):3<a?n(t,r,i):n(t,r))||i);return 3<a&&i&&Object.defineProperty(t,r,i),i},o=(Object.defineProperty(n.prototype,"userId",{get:function(){return abp.session.userId},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"tenantId",{get:function(){return abp.session.tenantId},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"impersonatorUserId",{get:function(){return abp.session.impersonatorUserId},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"impersonatorTenantId",{get:function(){return abp.session.impersonatorTenantId},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"multiTenancySide",{get:function(){return abp.session.multiTenancySide},enumerable:!0,configurable:!0}),n=r([t.Injectable()],n));function n(){}var a=function(e,t,r,o){var n,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,o);else for(var c=e.length-1;0<=c;c--)(n=e[c])&&(i=(a<3?n(i):3<a?n(t,r,i):n(t,r))||i);return 3<a&&i&&Object.defineProperty(t,r,i),i},i=(c.prototype.isGranted=function(e){return abp.auth.isGranted(e)},c=a([t.Injectable()],c));function c(){}var l=function(e,t,r,o){var n,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,o);else for(var c=e.length-1;0<=c;c--)(n=e[c])&&(i=(a<3?n(i):3<a?n(t,r,i):n(t,r))||i);return 3<a&&i&&Object.defineProperty(t,r,i),i},s=(f.prototype.get=function(e){return abp.features.get(e)},f.prototype.getValue=function(e){return abp.features.getValue(e)},f.prototype.isEnabled=function(e){return abp.features.isEnabled(e)},f=l([t.Injectable()],f));function f(){}var d=function(e,t,r,o){var n,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,o);else for(var c=e.length-1;0<=c;c--)(n=e[c])&&(i=(a<3?n(i):3<a?n(t,r,i):n(t,r))||i);return 3<a&&i&&Object.defineProperty(t,r,i),i},b=(Object.defineProperty(g.prototype,"languages",{get:function(){return abp.localization.languages},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"currentLanguage",{get:function(){return abp.localization.currentLanguage},enumerable:!0,configurable:!0}),g.prototype.localize=function(e,t){return abp.localization.localize(e,t)},g.prototype.getSource=function(e){return abp.localization.getSource(e)},g=d([t.Injectable()],g));function g(){}var y=function(e,t,r,o){var n,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,o);else for(var c=e.length-1;0<=c;c--)(n=e[c])&&(i=(a<3?n(i):3<a?n(t,r,i):n(t,r))||i);return 3<a&&i&&Object.defineProperty(t,r,i),i},h=(v.prototype.get=function(e){return abp.setting.get(e)},v.prototype.getBoolean=function(e){return abp.setting.getBoolean(e)},v.prototype.getInt=function(e){return abp.setting.getInt(e)},v=y([t.Injectable()],v));function v(){}var j=function(e,t,r,o){var n,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,o);else for(var c=e.length-1;0<=c;c--)(n=e[c])&&(i=(a<3?n(i):3<a?n(t,r,i):n(t,r))||i);return 3<a&&i&&Object.defineProperty(t,r,i),i},R=(m.prototype.info=function(e,t,r){abp.notify.info(e,t,r)},m.prototype.success=function(e,t,r){abp.notify.success(e,t,r)},m.prototype.warn=function(e,t,r){abp.notify.warn(e,t,r)},m.prototype.error=function(e,t,r){abp.notify.error(e,t,r)},m=j([t.Injectable()],m));function m(){}var O=function(e,t,r,o){var n,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,o);else for(var c=e.length-1;0<=c;c--)(n=e[c])&&(i=(a<3?n(i):3<a?n(t,r,i):n(t,r))||i);return 3<a&&i&&Object.defineProperty(t,r,i),i},w=(A.prototype.info=function(e,t,r){return abp.message.info(e,t,r)},A.prototype.success=function(e,t,r){return abp.message.success(e,t,r)},A.prototype.warn=function(e,t,r){return abp.message.warn(e,t,r)},A.prototype.error=function(e,t,r){return abp.message.error(e,t,r)},A.prototype.confirm=function(e,t,r,o){return"string"==typeof t?abp.message.confirm(e,t,r,o):abp.message.confirm(e,void 0,t,o)},A=O([t.Injectable()],A));function A(){}var P=function(e,t,r,o){var n,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,o);else for(var c=e.length-1;0<=c;c--)(n=e[c])&&(i=(a<3?n(i):3<a?n(t,r,i):n(t,r))||i);return 3<a&&i&&Object.defineProperty(t,r,i),i},T=(E.prototype.debug=function(e){abp.log.debug(e)},E.prototype.info=function(e){abp.log.info(e)},E.prototype.warn=function(e){abp.log.warn(e)},E.prototype.error=function(e){abp.log.error(e)},E.prototype.fatal=function(e){abp.log.fatal(e)},E=P([t.Injectable()],E));function E(){}var S=function(e,t,r,o){var n,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,o);else for(var c=e.length-1;0<=c;c--)(n=e[c])&&(i=(a<3?n(i):3<a?n(t,r,i):n(t,r))||i);return 3<a&&i&&Object.defineProperty(t,r,i),i},C=(Object.defineProperty(I.prototype,"isEnabled",{get:function(){return abp.multiTenancy.isEnabled},enumerable:!0,configurable:!0}),I=S([t.Injectable()],I));function I(){}var x=function(e,t,r,o){var n,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,o);else for(var c=e.length-1;0<=c;c--)(n=e[c])&&(i=(a<3?n(i):3<a?n(t,r,i):n(t,r))||i);return 3<a&&i&&Object.defineProperty(t,r,i),i},k=(N.prototype.getToken=function(){return abp.auth.getToken()},N.prototype.getTokenCookieName=function(){return abp.auth.tokenCookieName},N.prototype.clearToken=function(){abp.auth.clearToken()},N.prototype.setToken=function(e,t){abp.auth.setToken(e,t)},N=x([t.Injectable()],N));function N(){}var _=function(e,t,r,o){var n,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,o);else for(var c=e.length-1;0<=c;c--)(n=e[c])&&(i=(a<3?n(i):3<a?n(t,r,i):n(t,r))||i);return 3<a&&i&&Object.defineProperty(t,r,i),i},z=(H.prototype.getCookieValue=function(e){return abp.utils.getCookieValue(e)},H.prototype.setCookieValue=function(e,t,r,o){abp.utils.setCookieValue(e,t,r,o)},H.prototype.deleteCookie=function(e,t){abp.utils.deleteCookie(e,t)},H=_([t.Injectable()],H));function H(){}function D(e,t){}var U=(q.prototype.readAsText=function(e){"function"==typeof this.onload&&this.onload()},q);function q(){}var L=window.Blob||D,V=window.FileReader||U,J=function(e,t,r,o){var n,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,o);else for(var c=e.length-1;0<=c;c--)(n=e[c])&&(i=(a<3?n(i):3<a?n(t,r,i):n(t,r))||i);return 3<a&&i&&Object.defineProperty(t,r,i),i},M=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},B=(G.prototype.logError=function(e){this._logService.error(e)},G.prototype.showError=function(e){return e.details?this._messageService.error(e.details,e.message||this.defaultError.message):this._messageService.error(e.message||this.defaultError.message)},G.prototype.handleTargetUrl=function(e){location.href=e||"/"},G.prototype.handleUnAuthorizedRequest=function(e,t){var r=this;e?e.done(function(){r.handleTargetUrl(t||"/")}):this.handleTargetUrl(t||"/")},G.prototype.handleNonAbpErrorResponse=function(e){var t=this;switch(e.status){case 401:t.handleUnAuthorizedRequest(t.showError(t.defaultError401),"/");break;case 403:t.showError(t.defaultError403);break;case 404:t.showError(t.defaultError404);break;default:t.showError(t.defaultError)}},G.prototype.handleAbpResponse=function(e,t){var r;return t.success?(r=e.clone({body:t.result}),t.targetUrl&&this.handleTargetUrl(t.targetUrl)):(r=e.clone({body:t.result}),t.error||(t.error=this.defaultError),this.logError(t.error),this.showError(t.error),401===e.status&&this.handleUnAuthorizedRequest(null,t.targetUrl)),r},G.prototype.getAbpAjaxResponseOrNull=function(e){if(!e||!e.headers)return null;var t=e.headers.get("Content-Type");if(!t)return this._logService.warn("Content-Type is not sent!"),null;if(t.indexOf("application/json")<0)return this._logService.warn("Content-Type is not application/json: "+t),null;var r=JSON.parse(JSON.stringify(e.body));return r.__abp?r:null},G.prototype.handleResponse=function(e){var t=this.getAbpAjaxResponseOrNull(e);return null==t?e:this.handleAbpResponse(e,t)},G.prototype.blobToText=function(r){return new u.Observable(function(e){if(r){var t=new V;t.onload=function(){e.next(this.result),e.complete()},t.readAsText(r)}else e.next(""),e.complete()})},G=J([t.Injectable(),M("design:paramtypes",[w,T])],G));function G(e,t){this._messageService=e,this._logService=t,this.defaultError={message:"An error has occurred!",details:"Error details were not sent by server."},this.defaultError401={message:"You are not authenticated!",details:"You should be authenticated (sign in) in order to perform this operation."},this.defaultError403={message:"You are not authorized!",details:"You are not allowed to perform this operation."},this.defaultError404={message:"Resource not found!",details:"The resource requested could not be found on the server."}}X.prototype.intercept=function(e,t){var r=this,o=new u.Subject,n=this.normalizeRequestHeaders(e);return t.handle(n).subscribe(function(e){r.handleSuccessResponse(e,o)},function(e){return r.handleErrorResponse(e,o)}),o},X.prototype.normalizeRequestHeaders=function(e){var t=new p.HttpHeaders;return t=e.headers.set("Pragma","no-cache").set("Cache-Control","no-cache").set("Expires","Sat, 01 Jan 2000 00:00:00 GMT"),t=this.addXRequestedWithHeader(t),t=this.addAuthorizationHeaders(t),t=this.addAspNetCoreCultureHeader(t),t=this.addAcceptLanguageHeader(t),t=this.addTenantIdHeader(t),e.clone({headers:t})},X.prototype.addXRequestedWithHeader=function(e){return e=e&&e.set("X-Requested-With","XMLHttpRequest")},X.prototype.addAspNetCoreCultureHeader=function(e){var t=this._utilsService.getCookieValue("Abp.Localization.CultureName");return t&&e&&!e.has(".AspNetCore.Culture")&&(e=e.set(".AspNetCore.Culture",t)),e},X.prototype.addAcceptLanguageHeader=function(e){var t=this._utilsService.getCookieValue("Abp.Localization.CultureName");return t&&e&&!e.has("Accept-Language")&&(e=e.set("Accept-Language",t)),e},X.prototype.addTenantIdHeader=function(e){var t=this._utilsService.getCookieValue("Abp.TenantId");return t&&e&&!e.has("Abp.TenantId")&&(e=e.set("Abp.TenantId",t)),e},X.prototype.addAuthorizationHeaders=function(e){var t=e?e.getAll("Authorization"):null;if(t=t||[],!this.itemExists(t,function(e){return 0==e.indexOf("Bearer ")})){var r=this._tokenService.getToken();e&&r&&(e=e.set("Authorization","Bearer "+r))}return e},X.prototype.handleSuccessResponse=function(o,n){var a=this;o instanceof p.HttpResponse?o.body instanceof L&&o.body.type&&0<=o.body.type.indexOf("application/json")?(o.clone(),a.configuration.blobToText(o.body).subscribe(function(e){var t="null"==e?{}:JSON.parse(e),r=a.configuration.handleResponse(o.clone({body:t}));n.next(r.clone({body:new L([JSON.stringify(r.body)],{type:"application/json"})})),n.complete()})):(n.next(o),n.complete()):n.next(o)},X.prototype.handleErrorResponse=function(n,a){var i=this,c=new u.Subject;return n.error instanceof L?(this.configuration.blobToText(n.error).subscribe(function(e){var t=""==e||"null"==e?{}:JSON.parse(e),r=new p.HttpResponse({headers:n.headers,status:n.status,body:t}),o=i.configuration.getAbpAjaxResponseOrNull(r);null!=o?i.configuration.handleAbpResponse(r,o):i.configuration.handleNonAbpErrorResponse(r),c.complete(),a.error(n),a.complete()}),c):(a.error(n),a.complete(),u.of({}))},X.prototype.itemExists=function(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return!0;return!1},X=J([t.Injectable(),M("design:paramtypes",[B])],X);function X(e){this._tokenService=new k,this._utilsService=new z,this._logService=new T,this.configuration=e}var Y=function(e,t,r,o){var n,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,o);else for(var c=e.length-1;0<=c;c--)(n=e[c])&&(i=(a<3?n(i):3<a?n(t,r,i):n(t,r))||i);return 3<a&&i&&Object.defineProperty(t,r,i),i},W=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},F=(Q.prototype.initialize=function(){this._http.get("/AbpUserConfiguration/GetAll").subscribe(function(e){jQuery.extend(!0,abp,JSON.parse(JSON.stringify(e)))})},Q=Y([t.Injectable(),W("design:paramtypes",[p.HttpClient])],Q));function Q(e){this._http=e}var K=Z=function(e,t,r,o){var n,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,o);else for(var c=e.length-1;0<=c;c--)(n=e[c])&&(i=(a<3?n(i):3<a?n(t,r,i):n(t,r))||i);return 3<a&&i&&Object.defineProperty(t,r,i),i}([t.NgModule({declarations:[],providers:[o,i,s,b,h,R,w,T,C,F,B,k,z]})],Z);function Z(){}e.AbpModule=K,e.AbpUserConfigurationService=F,Object.defineProperty(e,"__esModule",{value:!0})});